#Marmalade

Marmalade is a literate programming environment. It is written in Marmalade, using Clojure as the interpretation environment and [metacircular](http://en.wikipedia.org/wiki/Meta-circular_evaluator) bootstrap. 

Marmalade is a dialect of Git-Flavored Markdown. As such, Marmalade could be written in [many languages](https://github.com/github/linguist/blob/master/lib/linguist/languages.yml) while still being written in Marmalade. I chose Clojure out of familiarity, and because Instaparse is fun to work with. 

Literate programming is due for a revival. Any program running in the browser contains at least three languages, HTML, CSS, and Javascript. Often, these are actually generated by template languages and JS-targeting compilers, further muddying the waters.

On the server side, even a simple application often has at least three languages involved, before we start to count binaries that are used alongside the custom logic. A Ruby core, some Python string handling, a bit of Java for the database layer, perhaps some Clojure, a crypto layer written in some flavor of C, and it goes on: there are the configuration languages and shell scripts to be considered. 

There are no real best practices for keeping this all in a canonical form that is reference, documentation, rationale, bibliography and source, all in one package. Hence, a Git-Flavored literary Markdown project. 

##Literate Programming

Literate programming is conceptually straightforward: your source code consists both of documentation and source code, proper. One program, the weaver, produces a document from the source code. Another program, the tangler, produces code suitable for compilation. 

Our stack has a third program, the detangler: it takes changes in the weave and attempts to back-propagate them into the source. I feel as though this is the missing element in existing literate environments: it is easier, often, to modify code in-place, especially with languages that have a REPL. We want to be able to pull those changes back into the source, to be further rearranged if desired. 

Because of macros, this can't always be done predictably. Marmion, our detangler, will be smart enough to know when it can't incorporate changes, or when the source was modified in ways it can't follow. 
